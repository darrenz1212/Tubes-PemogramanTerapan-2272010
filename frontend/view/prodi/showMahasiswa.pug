extends ../layouts/master

block sidebar-content 
  a.brand-link(href="/prodi")
    img.brand-image.img-circle.elevation-3(src="/dist/img/AdminLTELogo.png", alt="AdminLTE Logo", style="opacity: .8")
    span.brand-text.font-weight-light Beasiswa App
  //- Sidebar
  .sidebar
    //- Sidebar user panel (optional)
    .user-panel.mt-3.pb-3.mb-3.d-flex
      .image
        img.img-circle.elevation-2(src="/dist/img/user2-160x160.jpg", alt="User Image")
      .info
        //- a.d-block(href="#") #{session.username}
    //- SidebarSearch Form
    .form-inline
      .input-group(data-widget="sidebar-search")
        input.form-control.form-control-sidebar(type="search", placeholder="Search", aria-label="Search")
        .input-group-append
          button.btn.btn-sidebar
            i.fas.fa-search.fa-fw
    //- Sidebar Menu
    nav.mt-2
      ul.nav.nav-pills.nav-sidebar.flex-column(data-widget="treeview", role="menu", data-accordion="false")
        //- Add icons to the links using the .nav-icon class
        //- with font-awesome or any other icon font library
        li.nav-item.menu-open
          a.nav-link.active(href="#")
            i.nav-icon.fas.fa-tachometer-alt
            p
              | Dashboard
              i.right.fas.fa-angle-left
          ul.nav.nav-treeview
            li.nav-item
              a.nav-link(href="/prodi")
                p Home
            li.nav-item
              a.nav-link(href="/prodi/show-beasiswa")
                p List Beasiswa
            li.nav-item
              a.nav-link.active(href="/prodi/show-mahasiswa")
                p List Mahasiswa 

block web-content   
    //- Content Header (Page header)
    .content-header
      .container-fluid
        .row.mb-2
          .col-sm-6
            h1.m-0 List Mahasiswa
          .col-sm-6
            ol.breadcrumb.float-sm-right
              li.breadcrumb-item
                a(href="#") Home
    //- Main content
    section.content
        .container-fluid
            .card
            .card-body.p-4
                .table-responsive
                 table.table.table-striped(id="table-mahasiswa")
                    thead
                        tr
                            th Nama Mahasiswa
                            th NRP
                            th IPK
                            th Prodi 
                            th Status Mahasiswa
                            th Action 
                    tbody
                        each d in data
                            tr
                                td #{d.nama_mahasiswa}
                                td #{d.nrp}
                                td #{d.ipk}
                                if d.prodi == 1
                                    td Teknik Informatika 
                                else if d.prodi == 2
                                    td Sistem Informasi
                                if d.status == true 
                                    td Aktif 
                                else 
                                    td Tidak Aktif
                                td
                                    button.btn.btn-success.btn-sm.btn-edit(type="button", data-id=d.nrp, data-toggle="modal", data-target="#editMahasiswaModal")
                                      | Edit
                                    button.btn.btn-danger.btn-sm.btn-delete(type="button", data-id=d.nrp)
                                      | Delete

    .modal.fade#editMahasiswaModal(tabindex="-1", role="dialog", aria-labelledby="editMahasiswaModalLabel", aria-hidden="true")
      .modal-dialog(role="document")
          .modal-content
              .modal-header
                  h5.modal-title#editMahasiswaModalLabel Edit Mahasiswa
                  button.close(type="button", data-dismiss="modal", aria-label="Close")
                      span(aria-hidden="true") &times;
              .modal-body
                  form#editMahasiswaForm
                      .form-group
                          label(for="nama_mahasiswa") Nama Mahasiswa
                          input#nama_mahasiswa.form-control(type="text", name="nama_mahasiswa", required)
                      .form-group
                          label(for="nrp") NRP
                          input#nrp.form-control(type="text", name="nrp", readonly)
                      .form-group
                          label(for="prodi") Program Studi
                          select#prodi.form-control(name="prodi", required)
                              option(value="1") Teknik Informatika
                              option(value="2") Sistem Informasi
                      .form-group
                          label(for="ipk") IPK
                          input#ipk.form-control(type="number", step="0.01", min="0", max="4", name="ipk", required)
                      .form-group
                          label(for="status") Status Mahasiswa
                          select#status.form-control(name="status", required)
                              option(value="true") Aktif
                              option(value="false") Tidak Aktif
                      .form-group
                          label(for="user_id") User ID
                          input#user_id.form-control(type="text", name="user_id", readonly)
                      .modal-footer
                          button.btn.btn-secondary(type="button", data-dismiss="modal") Close
                          button.btn.btn-primary(type="submit") Save changes


block extra-js 
    script(src="https://cdn.jsdelivr.net/npm/sweetalert2@11")
    script(src="/js/prodi/deleteMahasiswa.js")
    script(src="/js/prodi/editMahasiswa.js")
